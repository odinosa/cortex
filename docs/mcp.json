{
  "tools": [
    {
      "id": "cortex",
      "stdio": {
        "command": ["python", "-m", "cortex.mcp.server"]
      },
      "tools": [
        {
          "name": "start_session",
          "description": "Inicia uma nova sessão de trabalho no CORTEX.",
          "parameters": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "Nome da sessão"
              },
              "objective": {
                "type": "string",
                "description": "Objetivo principal da sessão"
              },
              "description": {
                "type": "string",
                "description": "Descrição detalhada da sessão"
              },
              "metadata": {
                "type": "object",
                "description": "Metadados adicionais como contexto, tags, etc."
              }
            },
            "required": ["name"]
          }
        },
        {
          "name": "end_session",
          "description": "Finaliza uma sessão existente.",
          "parameters": {
            "type": "object",
            "properties": {
              "session_id": {
                "type": "string",
                "description": "ID da sessão a ser finalizada"
              },
              "status": {
                "type": "string",
                "description": "Status final (completed, archived)",
                "enum": ["completed", "archived", "paused"]
              },
              "summary": {
                "type": "string",
                "description": "Resumo opcional da sessão"
              }
            },
            "required": ["session_id"]
          }
        },
        {
          "name": "list_sessions",
          "description": "Lista sessões existentes com paginação e filtros.",
          "parameters": {
            "type": "object",
            "properties": {
              "limit": {
                "type": "integer",
                "description": "Número máximo de sessões a retornar"
              },
              "offset": {
                "type": "integer",
                "description": "Deslocamento para paginação"
              },
              "status": {
                "type": "string",
                "description": "Filtro de status (active, paused, completed, archived)",
                "enum": ["active", "paused", "completed", "archived"]
              },
              "order_by": {
                "type": "string",
                "description": "Campo para ordenação (created_at, updated_at, name)",
                "enum": ["created_at", "updated_at", "name"]
              },
              "order_dir": {
                "type": "string",
                "description": "Direção da ordenação (asc, desc)",
                "enum": ["asc", "desc"]
              }
            }
          }
        },
        {
          "name": "record_message",
          "description": "Registra uma nova mensagem em uma sessão.",
          "parameters": {
            "type": "object",
            "properties": {
              "session_id": {
                "type": "string",
                "description": "ID da sessão"
              },
              "role": {
                "type": "string",
                "description": "Papel da mensagem (user, assistant, system, tool, function)",
                "enum": ["user", "assistant", "system", "tool", "function"]
              },
              "content": {
                "type": "string",
                "description": "Conteúdo da mensagem"
              },
              "name": {
                "type": "string",
                "description": "Nome opcional (para funções/ferramentas)"
              },
              "tools": {
                "type": "array",
                "description": "Ferramentas disponíveis (formato Cursor/OpenAI)"
              },
              "tool_calls": {
                "type": "array",
                "description": "Chamadas de ferramentas (formato Cursor/OpenAI)"
              },
              "function_call": {
                "type": "object",
                "description": "Chamada de função (formato Cursor/OpenAI)"
              },
              "token_count": {
                "type": "integer",
                "description": "Contagem de tokens da mensagem"
              }
            },
            "required": ["session_id", "role"]
          }
        },
        {
          "name": "get_context",
          "description": "Recupera o contexto da conversa (mensagens anteriores).",
          "parameters": {
            "type": "object",
            "properties": {
              "session_id": {
                "type": "string",
                "description": "ID da sessão"
              },
              "limit": {
                "type": "integer",
                "description": "Número máximo de mensagens a retornar"
              },
              "offset": {
                "type": "integer",
                "description": "Deslocamento para paginação (começando do mais recente)"
              },
              "format": {
                "type": "string",
                "description": "Formato de saída ('cursor', 'dict', 'raw')",
                "enum": ["cursor", "dict", "raw"]
              }
            },
            "required": ["session_id"]
          }
        },
        {
          "name": "summarize_conversation",
          "description": "Gera um resumo da conversa atual.",
          "parameters": {
            "type": "object",
            "properties": {
              "session_id": {
                "type": "string",
                "description": "ID da sessão"
              },
              "max_tokens": {
                "type": "integer",
                "description": "Limite de tokens para o resumo"
              }
            },
            "required": ["session_id"]
          }
        },
        {
          "name": "scan_markers",
          "description": "Escaneia arquivos em busca de marcadores como TODOs e FIXMEs.",
          "parameters": {
            "type": "object",
            "properties": {
              "path": {
                "type": "string",
                "description": "Diretório para escanear"
              },
              "include_pattern": {
                "type": "string",
                "description": "Padrão glob para incluir arquivos (ex: \"*.py,*.js\")"
              },
              "exclude_pattern": {
                "type": "string",
                "description": "Padrão glob para excluir arquivos (ex: \"test_*,*_test.py\")"
              },
              "marker_types": {
                "type": "array",
                "description": "Tipos de marcador a procurar (ex: [\"TODO\", \"FIXME\"])"
              },
              "ignore_dirs": {
                "type": "array",
                "description": "Diretórios a ignorar"
              },
              "max_results": {
                "type": "integer",
                "description": "Número máximo de resultados a retornar"
              }
            }
          }
        },
        {
          "name": "create_task",
          "description": "Cria uma tarefa em hierarquia de 4 níveis.",
          "parameters": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "description": "Título da tarefa"
              },
              "description": {
                "type": "string",
                "description": "Descrição detalhada da tarefa"
              },
              "level": {
                "type": "string",
                "description": "Nível hierárquico da tarefa",
                "enum": ["phase", "stage", "task", "activity"]
              },
              "session_id": {
                "type": "string",
                "description": "ID da sessão associada"
              },
              "parent_id": {
                "type": "string",
                "description": "ID da tarefa pai (para criar subtarefas)"
              },
              "priority": {
                "type": "integer",
                "description": "Prioridade (0-5, maior = mais prioritário)"
              },
              "due_date": {
                "type": "string",
                "description": "Data de vencimento (formato ISO)"
              }
            },
            "required": ["title", "level"]
          }
        },
        {
          "name": "update_task_status",
          "description": "Atualiza o status de uma tarefa.",
          "parameters": {
            "type": "object",
            "properties": {
              "task_id": {
                "type": "string",
                "description": "ID da tarefa"
              },
              "status": {
                "type": "string",
                "description": "Novo status da tarefa",
                "enum": ["todo", "doing", "blocked", "review", "done", "cancelled"]
              },
              "progress": {
                "type": "number",
                "description": "Progresso da tarefa (0.0 - 1.0)"
              },
              "propagate": {
                "type": "boolean",
                "description": "Se deve propagar o status para subtarefas"
              }
            },
            "required": ["task_id", "status"]
          }
        },
        {
          "name": "list_tasks",
          "description": "Lista tarefas filtradas por vários critérios.",
          "parameters": {
            "type": "object",
            "properties": {
              "session_id": {
                "type": "string",
                "description": "ID da sessão para filtrar"
              },
              "parent_id": {
                "type": "string",
                "description": "ID da tarefa pai para listar subtarefas"
              },
              "level": {
                "type": "string",
                "description": "Nível hierárquico para filtrar",
                "enum": ["phase", "stage", "task", "activity"]
              },
              "status": {
                "type": "string",
                "description": "Status para filtrar",
                "enum": ["todo", "doing", "blocked", "review", "done", "cancelled"]
              },
              "include_children": {
                "type": "boolean",
                "description": "Se deve incluir subtarefas na resposta"
              },
              "limit": {
                "type": "integer",
                "description": "Número máximo de tarefas a retornar"
              },
              "offset": {
                "type": "integer",
                "description": "Deslocamento para paginação"
              }
            }
          }
        },
        {
          "name": "detect_context",
          "description": "Detecta contexto da sessão com base em palavras-chave e actividade.",
          "parameters": {
            "type": "object",
            "properties": {
              "session_id": {
                "type": "string",
                "description": "ID da sessão"
              },
              "content": {
                "type": "string",
                "description": "Conteúdo adicional para análise contextual"
              },
              "file_paths": {
                "type": "array",
                "description": "Caminhos de arquivos atualmente abertos"
              }
            },
            "required": ["session_id"]
          }
        },
        {
          "name": "save_state",
          "description": "Guarda um snapshot do estado atual.",
          "parameters": {
            "type": "object",
            "properties": {
              "session_id": {
                "type": "string",
                "description": "ID da sessão"
              },
              "name": {
                "type": "string",
                "description": "Nome do estado a salvar"
              },
              "description": {
                "type": "string",
                "description": "Descrição do estado"
              },
              "snapshots": {
                "type": "array",
                "description": "Lista de snapshots a salvar (arquivos, variáveis, etc)"
              },
              "include_messages": {
                "type": "boolean",
                "description": "Se deve incluir mensagens automaticamente"
              }
            },
            "required": ["session_id", "name"]
          }
        },
        {
          "name": "load_state",
          "description": "Recupera um estado previamente guardado.",
          "parameters": {
            "type": "object",
            "properties": {
              "state_id": {
                "type": "string",
                "description": "ID do estado a carregar"
              },
              "name": {
                "type": "string",
                "description": "Nome do estado a carregar (alternativa ao ID)"
              },
              "session_id": {
                "type": "string",
                "description": "ID da sessão (caso o nome seja usado)"
              },
              "include_content": {
                "type": "boolean",
                "description": "Se deve incluir o conteúdo dos snapshots"
              }
            }
          }
        }
      ]
    }
  ]
} 